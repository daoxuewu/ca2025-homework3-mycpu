FIRRTL version 1.2.0
circuit InstructionDecode :
  module InstructionDecode :
    input clock : Clock
    input reset : UInt<1>
    input io_instruction : UInt<32> @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 150:14]
    output io_regs_reg1_read_address : UInt<5> @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 150:14]
    output io_regs_reg2_read_address : UInt<5> @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 150:14]
    output io_ex_immediate : UInt<32> @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 150:14]
    output io_ex_aluop1_source : UInt<1> @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 150:14]
    output io_ex_aluop2_source : UInt<1> @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 150:14]
    output io_memory_read_enable : UInt<1> @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 150:14]
    output io_memory_write_enable : UInt<1> @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 150:14]
    output io_wb_reg_write_source : UInt<2> @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 150:14]
    output io_reg_write_enable : UInt<1> @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 150:14]
    output io_reg_write_address : UInt<5> @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 150:14]

    node opcode = bits(io_instruction, 6, 0) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 166:32]
    node rs1 = bits(io_instruction, 19, 15) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 167:32]
    node rs2 = bits(io_instruction, 24, 20) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 168:32]
    node rd = bits(io_instruction, 11, 7) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 169:32]
    node isLoad = eq(opcode, UInt<7>("h3")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 171:25]
    node isStore = eq(opcode, UInt<7>("h23")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 172:25]
    node isOpImm = eq(opcode, UInt<7>("h13")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 173:25]
    node isOp = eq(opcode, UInt<7>("h33")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 174:25]
    node isLui = eq(opcode, UInt<7>("h37")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 175:25]
    node isAuipc = eq(opcode, UInt<7>("h17")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 176:25]
    node isJal = eq(opcode, UInt<7>("h6f")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 177:25]
    node isJalr = eq(opcode, UInt<7>("h67")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 178:25]
    node isBranch = eq(opcode, UInt<7>("h63")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 179:25]
    node _usesRs1_T = or(isLoad, isStore) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 180:25]
    node _usesRs1_T_1 = or(_usesRs1_T, isOpImm) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 180:36]
    node _usesRs1_T_2 = or(_usesRs1_T_1, isOp) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 180:47]
    node _usesRs1_T_3 = or(_usesRs1_T_2, isBranch) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 180:55]
    node usesRs1 = or(_usesRs1_T_3, isJalr) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 180:67]
    node _usesRs2_T = or(isStore, isOp) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 181:26]
    node usesRs2 = or(_usesRs2_T, isBranch) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 181:34]
    node _regWrite_T = or(isLoad, isOpImm) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 182:25]
    node _regWrite_T_1 = or(_regWrite_T, isOp) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 182:36]
    node _regWrite_T_2 = or(_regWrite_T_1, isLui) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 182:44]
    node _regWrite_T_3 = or(_regWrite_T_2, isAuipc) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 182:53]
    node _regWrite_T_4 = or(_regWrite_T_3, isJal) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 182:64]
    node regWrite = or(_regWrite_T_4, isJalr) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 182:73]
    node _T = or(isJal, isJalr) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 204:19]
    node _GEN_0 = mux(_T, UInt<2>("h2"), UInt<2>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 204:30 205:14 198:29]
    node _GEN_1 = mux(isLoad, UInt<2>("h1"), _GEN_0) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 200:16 201:14]
    node _T_1 = or(isBranch, isAuipc) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 215:17]
    node _T_2 = or(_T_1, isJal) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 215:28]
    node _GEN_2 = mux(_T_2, UInt<1>("h1"), UInt<1>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 215:38 216:15 212:30]
    node _needsImmediate_T = or(isLoad, isStore) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 222:31]
    node _needsImmediate_T_1 = or(_needsImmediate_T, isOpImm) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 222:42]
    node _needsImmediate_T_2 = or(_needsImmediate_T_1, isBranch) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 222:53]
    node _needsImmediate_T_3 = or(_needsImmediate_T_2, isLui) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 222:65]
    node _needsImmediate_T_4 = or(_needsImmediate_T_3, isAuipc) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 222:74]
    node _needsImmediate_T_5 = or(_needsImmediate_T_4, isJal) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 222:85]
    node needsImmediate = or(_needsImmediate_T_5, isJalr) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 222:94]
    node _GEN_3 = mux(needsImmediate, UInt<1>("h1"), UInt<1>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 226:24 227:15 223:35]
    node _T_3 = or(isLoad, isOpImm) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 231:15]
    node _T_4 = or(_T_3, isJalr) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 231:26]
    node _GEN_4 = mux(_T_4, UInt<1>("h1"), UInt<1>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 231:37 232:13 230:28]
    node _GEN_5 = mux(isStore, UInt<2>("h2"), _GEN_4) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 234:17 235:13]
    node _GEN_6 = mux(isBranch, UInt<2>("h3"), _GEN_5) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 237:18 238:13]
    node _T_5 = or(isLui, isAuipc) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 240:14]
    node _GEN_7 = mux(_T_5, UInt<3>("h4"), _GEN_6) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 240:26 241:13]
    node _GEN_8 = mux(isJal, UInt<3>("h5"), _GEN_7) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 243:15 244:13]
    node _io_regs_reg1_read_address_T = mux(usesRs1, rs1, UInt<1>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 247:35]
    node _io_regs_reg2_read_address_T = mux(usesRs2, rs2, UInt<1>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 248:35]
    node _immI_T = bits(io_instruction, 31, 31) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 269:47]
    node _immI_T_1 = mux(_immI_T, UInt<20>("hfffff"), UInt<20>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 269:9]
    node _immI_T_2 = bits(io_instruction, 31, 20) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 270:16]
    node immI = cat(_immI_T_1, _immI_T_2) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 268:17]
    node _immS_T = bits(io_instruction, 31, 31) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 280:47]
    node _immS_T_1 = mux(_immS_T, UInt<20>("hfffff"), UInt<20>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 280:9]
    node _immS_T_2 = bits(io_instruction, 31, 25) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 281:16]
    node _immS_T_3 = bits(io_instruction, 11, 7) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 282:16]
    node immS_hi = cat(_immS_T_1, _immS_T_2) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 279:17]
    node immS = cat(immS_hi, _immS_T_3) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 279:17]
    node _immB_T = bits(io_instruction, 31, 31) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 293:47]
    node _immB_T_1 = mux(_immB_T, UInt<19>("h7ffff"), UInt<19>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 293:9]
    node _immB_T_2 = bits(io_instruction, 31, 31) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 294:16]
    node _immB_T_3 = bits(io_instruction, 7, 7) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 295:16]
    node _immB_T_4 = bits(io_instruction, 30, 25) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 296:16]
    node _immB_T_5 = bits(io_instruction, 11, 8) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 297:16]
    node immB_lo_hi = cat(_immB_T_4, _immB_T_5) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 292:17]
    node immB_lo = cat(immB_lo_hi, UInt<1>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 292:17]
    node immB_hi_hi = cat(_immB_T_1, _immB_T_2) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 292:17]
    node immB_hi = cat(immB_hi_hi, _immB_T_3) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 292:17]
    node immB = cat(immB_hi, immB_lo) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 292:17]
    node _immU_T = bits(io_instruction, 31, 12) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 305:29]
    node immU = cat(_immU_T, UInt<12>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 305:17]
    node _immJ_T = bits(io_instruction, 31, 31) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 315:47]
    node _immJ_T_1 = mux(_immJ_T, UInt<11>("h7ff"), UInt<11>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 315:9]
    node _immJ_T_2 = bits(io_instruction, 31, 31) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 316:16]
    node _immJ_T_3 = bits(io_instruction, 19, 12) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 317:16]
    node _immJ_T_4 = bits(io_instruction, 20, 20) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 318:16]
    node _immJ_T_5 = bits(io_instruction, 30, 21) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 319:16]
    node immJ_lo_hi = cat(_immJ_T_4, _immJ_T_5) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 314:17]
    node immJ_lo = cat(immJ_lo_hi, UInt<1>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 314:17]
    node immJ_hi_hi = cat(_immJ_T_1, _immJ_T_2) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 314:17]
    node immJ_hi = cat(immJ_hi_hi, _immJ_T_3) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 314:17]
    node immJ = cat(immJ_hi, immJ_lo) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 314:17]
    node immKind = _GEN_8 @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 230:28]
    node _immediate_T = asUInt(immKind) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 323:37]
    node _immediate_T_1 = asUInt(UInt<1>("h1")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 325:23]
    node _immediate_T_2 = asUInt(UInt<2>("h2")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 326:23]
    node _immediate_T_3 = asUInt(UInt<2>("h3")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 327:23]
    node _immediate_T_4 = asUInt(UInt<3>("h4")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 328:23]
    node _immediate_T_5 = asUInt(UInt<3>("h5")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 329:23]
    node _immediate_T_6 = eq(_immediate_T_1, _immediate_T) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 323:72]
    node _immediate_T_7 = mux(_immediate_T_6, immI, UInt<32>("h0")) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 323:72]
    node _immediate_T_8 = eq(_immediate_T_2, _immediate_T) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 323:72]
    node _immediate_T_9 = mux(_immediate_T_8, immS, _immediate_T_7) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 323:72]
    node _immediate_T_10 = eq(_immediate_T_3, _immediate_T) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 323:72]
    node _immediate_T_11 = mux(_immediate_T_10, immB, _immediate_T_9) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 323:72]
    node _immediate_T_12 = eq(_immediate_T_4, _immediate_T) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 323:72]
    node _immediate_T_13 = mux(_immediate_T_12, immU, _immediate_T_11) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 323:72]
    node _immediate_T_14 = eq(_immediate_T_5, _immediate_T) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 323:72]
    node immediate = mux(_immediate_T_14, immJ, _immediate_T_13) @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 323:72]
    node wbSource = _GEN_1 @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 198:29]
    node aluOp1Sel = _GEN_2 @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 212:30]
    node aluOp2Sel = _GEN_3 @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 223:35]
    io_regs_reg1_read_address <= _io_regs_reg1_read_address_T @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 247:29]
    io_regs_reg2_read_address <= _io_regs_reg2_read_address_T @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 248:29]
    io_ex_immediate <= immediate @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 332:19]
    io_ex_aluop1_source <= aluOp1Sel @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 249:29]
    io_ex_aluop2_source <= aluOp2Sel @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 250:29]
    io_memory_read_enable <= isLoad @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 251:29]
    io_memory_write_enable <= isStore @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 252:29]
    io_wb_reg_write_source <= wbSource @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 253:29]
    io_reg_write_enable <= regWrite @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 254:29]
    io_reg_write_address <= rd @[1-single-cycle/src/main/scala/riscv/core/InstructionDecode.scala 255:29]
